# Infix Calculator

Калькулятор для вычисления математических выражений в инфиксной нотации с поддержкой переменных, констант и математических функций.

## Описание проекта

Приложение читает математические выражения из файла `input.txt`, поддерживает определение переменных через `DEFINE:` и вычисление выражений через `EXECUTE:`. Выражения преобразуются в обратную польскую нотацию (RPN) и затем вычисляются.

## Структура файлов

### `main.py` - Главный файл приложения

Основной файл, который координирует работу всего приложения.

**Функции:**
- **Основной блок выполнения** - читает файл `input.txt`, обрабатывает команды `DEFINE:` и `EXECUTE:`
  - **Входные данные:** файл `input.txt` с командами
  - **Возвращаемое значение:** результаты вычислений выводятся в консоль
  - **Описание:** Парсит строки файла, определяет переменные и выполняет математические выражения

### `polz.py` - Парсинг и валидация выражений

Модуль для парсинга математических выражений и проверки корректности скобок.

**Функции:**

- **`isConstant(token)`**
  - **Входные данные:** `token` (str) - токен для проверки
  - **Возвращаемое значение:** `bool` - True если токен является константой (M_PI, M_E)
  - **Описание:** Проверяет, является ли токен математической константой

- **`check_brackets_balance(line)`**
  - **Входные данные:** `line` (str) - строка с математическим выражением
  - **Возвращаемое значение:** `bool` - True если скобки сбалансированы
  - **Описание:** Проверяет корректность расстановки скобок в выражении

- **`isFunction(token)`**
  - **Входные данные:** `token` (str) - токен для проверки
  - **Возвращаемое значение:** `bool` - True если токен является функцией
  - **Описание:** Проверяет, является ли токен математической функцией

- **`getTokenType(char)`**
  - **Входные данные:** `char` (str) - символ для анализа
  - **Возвращаемое значение:** `str` - тип токена ('digit', 'word', 'bracket', 'space', 'operation')
  - **Описание:** Определяет тип символа в математическом выражении

- **`parse_math_expression(expression)`**
  - **Входные данные:** `expression` (str) - математическое выражение
  - **Возвращаемое значение:** `list` - список токенов выражения
  - **Описание:** Разбивает математическое выражение на отдельные токены (числа, операторы, функции, переменные)

### `alg_polsk_zap.py` - Преобразование в обратную польскую нотацию

Модуль для преобразования инфиксных выражений в обратную польскую нотацию (RPN).

**Функции:**

- **`is_float(element)`**
  - **Входные данные:** `element` (any) - элемент для проверки
  - **Возвращаемое значение:** `bool` - True если элемент является числом с плавающей точкой
  - **Описание:** Проверяет, является ли элемент числом с плавающей точкой

- **`is_constants(element)`**
  - **Входные данные:** `element` (any) - элемент для проверки
  - **Возвращаемое значение:** `bool` - True если элемент является константой (M_PI, M_E)
  - **Описание:** Проверяет, является ли элемент математической константой

- **`is_variables(element, variables)`**
  - **Входные данные:** 
    - `element` (any) - элемент для проверки
    - `variables` (dict) - словарь определенных переменных
  - **Возвращаемое значение:** `bool` - True если элемент является определенной переменной
  - **Описание:** Проверяет, является ли элемент определенной переменной

- **`infix_to_rpn(expression, variables)`**
  - **Входные данные:** 
    - `expression` (list) - список токенов инфиксного выражения
    - `variables` (dict) - словарь определенных переменных
  - **Возвращаемое значение:** `list` - список токенов в обратной польской нотации
  - **Описание:** Преобразует инфиксное выражение в обратную польскую нотацию с учетом приоритетов операторов

### `alg_counting.py` - Вычисление выражений

Модуль для вычисления математических выражений в обратной польской нотации.

**Функции:**

**Базовые математические операции:**
- **`sum(a, b)`** - сложение двух чисел
- **`subtraction(a, b)`** - вычитание b из a
- **`multiply(a, b)`** - умножение двух чисел
- **`division(a, b)`** - деление a на b
- **`remains(a, b)`** - остаток от деления a на b
- **`powra(a, b)`** - возведение a в степень b

**Математические функции:**
- **`sinus(x)`** - синус угла x (в радианах)
- **`cosin(x)`** - косинус угла x (в радианах)
- **`tang(x)`** - тангенс угла x (в радианах)
- **`sqrtu(x)`** - квадратный корень из x
- **`expon(x)`** - экспонента числа x (e^x)
- **`abss(x)`** - абсолютное значение числа x
- **`logarifm(base, arg)`** - логарифм arg по основанию base

**Вспомогательные функции:**
- **`is_variables(element, variables)`**
  - **Входные данные:** 
    - `element` (any) - элемент для проверки
    - `variables` (dict) - словарь определенных переменных
  - **Возвращаемое значение:** `bool` - True если элемент является определенной переменной
  - **Описание:** Проверяет, является ли элемент определенной переменной

- **`alg_count(rpn_expression, variables)`**
  - **Входные данные:** 
    - `rpn_expression` (list) - список токенов в обратной польской нотации
    - `variables` (dict) - словарь определенных переменных
  - **Возвращаемое значение:** `float` - результат вычисления выражения
  - **Описание:** Вычисляет результат математического выражения, представленного в обратной польской нотации

### `__init__.py` - Инициализационный файл

Пустой файл, обозначающий директорию как Python пакет.

## Поддерживаемые операции и функции

### Операторы
- `+` - сложение
- `-` - вычитание
- `*` - умножение
- `/` - деление
- `%` - остаток от деления
- `^` - возведение в степень

### Математические функции
- `sin(x)` - синус
- `cos(x)` - косинус
- `tan(x)` - тангенс
- `sqrt(x)` - квадратный корень
- `exp(x)` - экспонента
- `abs(x)` - абсолютное значение
- `log(base, arg)` - логарифм

### Константы
- `M_PI` - число π (пи)
- `M_E` - число e (основание натурального логарифма)

## Формат входного файла

Файл `input.txt` должен содержать команды в следующем формате:

```
DEFINE: переменная=значение
EXECUTE: математическое_выражение
```

### Примеры:
```
DEFINE: A=3
DEFINE: B=1
EXECUTE: M_PI/A
EXECUTE: sin(A) + cos(B)
EXECUTE: sqrt(A^2 + B^2)
```

## Запуск приложения

```bash
python main.py
```

Приложение автоматически читает файл `input.txt` и выводит результаты вычислений в консоль.